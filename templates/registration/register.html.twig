{% extends 'base.html.twig' %}

{% block title %}Create Account - MuscleMind{% endblock %}

{% block body %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <div class="auth-logo">
                <i class="fas fa-dumbbell text-quinary text-3xl mb-2"></i>
                <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Join MuscleMind</h1>
                <p class="text-gray-600 dark:text-gray-300 mt-2">Create your account and start your fitness journey</p>
            </div>
        </div>

        {% if app.flashes('error') %}
        {% for error in app.flashes('error') %}
        <div class="alert alert-error mb-6">
            <i class="fas fa-exclamation-triangle mr-2"></i>
            {{ error }}
        </div>
        {% endfor %}
        {% endif %}

        {{ form_start(registrationForm, {'attr': {'class': 'auth-form'}}) }}
        {{ form_errors(registrationForm) }}

        <div class="form-group">
            {{ form_label(registrationForm.username, null, {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(registrationForm.username, {'attr': {'class': 'form-input', 'placeholder': 'Choose a
            username'}}) }}
            {{ form_errors(registrationForm.username) }}
        </div>

        <div class="form-group">
            {{ form_label(registrationForm.email, null, {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(registrationForm.email, {'attr': {'class': 'form-input', 'placeholder': 'Enter your email
            address'}}) }}
            {{ form_errors(registrationForm.email) }}
        </div>

        <div class="form-group">
            {{ form_label(registrationForm.plainPassword, 'Password', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(registrationForm.plainPassword, {'attr': {'class': 'form-input', 'placeholder': 'Create a
            strong password'}}) }}
            {{ form_errors(registrationForm.plainPassword) }}

            <div class="mt-2 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700">
                <p class="text-sm font-medium text-blue-900 dark:text-blue-100 mb-2">
                    <i class="fas fa-info-circle mr-2"></i>Password requirements:
                </p>
                <ul class="text-sm text-blue-800 dark:text-blue-200 space-y-1">
                    <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2 text-xs"></i>At least 12
                        characters</li>
                    <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2 text-xs"></i>At least one
                        uppercase letter</li>
                    <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2 text-xs"></i>At least one
                        number</li>
                    <li class="flex items-center"><i class="fas fa-check text-green-500 mr-2 text-xs"></i>At least one
                        special character</li>
                </ul>
            </div>
        </div>

        <div class="form-group">
            {{ form_widget(registrationForm.captcha) }}
            {{ form_errors(registrationForm.captcha) }}
        </div>

        <div class="form-group">
            <div class="flex items-start">
                {{ form_widget(registrationForm.agreeTerms, {'attr': {'class': 'form-checkbox mt-1'}}) }}
                <div class="ml-3">
                    {{ form_label(registrationForm.agreeTerms, null, {
                    'label': 'I agree to the Terms of Service and Privacy Policy',
                    'label_attr': {'class': 'text-sm text-gray-600 dark:text-gray-300'}
                    }) }}
                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                        By creating an account, you agree to our
                        <a href="{{ path('app_terms') }}" class="text-quinary hover:text-quaternary" target="_blank">
                            Terms of Service
                        </a>
                    </p>
                </div>
            </div>
            {{ form_errors(registrationForm.agreeTerms) }}
        </div>

        <button type="submit" class="btn btn-primary w-full mb-6">
            <i class="fas fa-user-plus mr-2"></i>
            Create Account
        </button>

        <div class="text-center">
            <p class="text-gray-600 dark:text-gray-300">
                Already have an account?
                <a href="{{ path('app_login') }}"
                    class="text-quinary hover:text-quaternary font-medium transition-colors">
                    Sign in here
                </a>
            </p>
        </div>
        {{ form_end(registrationForm) }}
    </div>
</div>
{% endblock %}