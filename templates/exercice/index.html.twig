{% extends 'base.html.twig' %}

{% block title %}Hello ExerciceController!{% endblock %}

{% block body %}


<div class="container bg-secondary/60 p-8 rounded-lg w-10/12 max-w-screen-md flex flex-col mx-auto backdrop-blur-md shadow-lg	">
        <h1 class="text-3xl text-center font-bold">Exercice list</h1>
        <h2 class="text-lg text-center font-medium mt-3">looking for a specific exercice ? Find every one of them here grouped by target muscle !</h2>
        <ul>
            {# here i'll separate them into divs to group the ones with the same target muscle #}
            {% set target = null %}
            {% for exercice in exercices %}
                {% if target is not same as(exercice.target) %}

                    {% if not loop.first %}
                        </div> 
                    {% endif %}

                    <div class="my-8 px-8 py-4 rounded-lg bg-primary/60">
                    {% set target = exercice.target %}
                {% endif %}

                <li> 
                    <div class="flex justify-between">
                        <a class="hover:font-medium hover:text-quinary " href="{{path ('app_exercice_details', {'id': exercice.id} )}}">{{exercice}}</a> 
                        <div>
                            {% if is_granted('ROLE_ADMIN') %}   
                                <a class="text-quinary hover:font-medium duration-150" href="{{path ('app_exercice_edit', {'id': exercice.id} )}}">edit</a> | 
                                <a class="text-quaternary hover:font-medium hover:text-red-600 duration-150"  href="{{path ('app_exercice_delete', {'id': exercice.id})}}">delete</a>
                            {% endif %}
                        </div>
                    </div>
                </li>

            {% endfor %}
            {% if target is not null %}
                </div> 
            {% endif %}
        </ul>
        {% if is_granted('ROLE_ADMIN') %}   
            <div class="w-full flex justify-end">
                <a class="m px-4 py-2 rounded-2xl w-fit bg-tertiary drop-shadow-xl hover:bg-quinary duration-150" href="{{ path('app_exercice_new') }}">Create new</a>
            </div>
        {% endif %}
    </div>

   
{% endblock %}
