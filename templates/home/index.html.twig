{% extends 'base.html.twig' %}

{% block title %}Welcome, {{ user.username }}!{% endblock %}

{% block body %}

    <h1 class="text-center text-2xl font-bold mb-8">Welcome <br>{{ user.username }} !</h1>
    {# <p class="">Your score: <strong>{{ user.score }}</strong></p> #}

    <div class=" mb-8">
        <a href="{{ path('app_home_newSession') }}" class="px-4 py-2 rounded-2xl bg-quinary ">
            Schedule your training sessions
        </a>
    </div>

    {% if sessions|length > 0 %}
        <p>your next sessions : </p>
        {% for session in sessions|sort((a, b) => a.dateSession <=> b.dateSession)|slice(0, 5) %}
        <div class="bg-primary rounded-lg m-5 max-w-2xl	">
            <div class="p-2 flex justify-between w-full">
                <a class="" href="{{ path('app_training_edit', {'id': session.program.id}) }}">{{session}}</a>
                <a class="text-end" href="{{ path('app_home_deleteSession', {'id': session.id}) }}">delete</a>
            </div>
            <div class="flex">

                <a class="h-auto w-1/2"  href="{{ path('app_muscleGroup_details', {'id': session.program.muscleGroupTargeted.id })}}"><img src="{{ asset('img/muscleGroups/' ~ session.program.muscleGroupTargeted.muscleGroupImage ) }}" alt="{{session.program.muscleGroupTargeted.muscleGroupImage()}}"></a>

                <a class="h-auto w-1/2"  href="{{ path('app_muscleGroup_details', {'id': session.program.secondaryMuscleGroupTargeted.id })}}"><img src="{{ asset('img/muscleGroups/' ~ session.program.secondaryMuscleGroupTargeted.muscleGroupImage ) }}" alt="{{session.program.muscleGroupTargeted.muscleGroupImage()}}"></a>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p>you have no scheduled sessions</p>
    {% endif %}




{% endblock %}
